<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Cadastrar Pergunta</title>
    <script>
        function enviarPergunta() {
            let pergunta = document.getElementById("pergunta").value;
            let tipo = document.getElementById("tipo").value;
            let respostas = document.getElementById("respostas").value;

            let dados = {"pergunta": pergunta, "tipo": tipo, "respostas": respostas};
            let json = JSON.stringify(dados);

            let x = new XMLHttpRequest();
            x.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    document.getElementById("msg").innerHTML = this.responseText;
                    document.getElementById("formPergunta").reset();
                }
            }
            x.open("POST", "salvarPerguntaJSON.php");
            x.setRequestHeader("Content-Type", "application/json");
            x.send(json);
        }
    </script>
</head>
<body>
<h1>Cadastrar Pergunta</h1>

<form id="formPergunta" onsubmit="event.preventDefault(); enviarPergunta();">
    Texto da Pergunta:<br>
    <input type="text" id="pergunta"><br><br>

    Tipo:<br>
    <select id="tipo">
        <option value="multipla">Multipla Escolha</option>
        <option value="texto">Resposta em Texto</option>
    </select><br><br>

    Respostas:<br>
    <textarea id="respostas"></textarea><br><br>

    <input type="submit" value="Cadastrar">
</form>

<p id="msg"></p>
</body>
</html>
